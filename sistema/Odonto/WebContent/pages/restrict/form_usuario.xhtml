<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<ui:composition template="/template/template.xhtml">
	<ui:define name="conteudo">
	<h:form>
		<h1>CADASTRO DE USUÁRIO</h1>
		<h:panelGrid>
					<h:panelGrid>
						<h:messages closable="true" />
					</h:panelGrid>
					<h:panelGrid columns="2">
						<h:outputLabel value="PERFIL: " />
						<h:selectOneMenu value="#{usuarioBean.usuario.perfil}"
						    style="width: 210px !important;"
							required="true" requiredMessage="Perfil: campo é obrigatório"
							converter="simpleConverter">
							<f:selectItem itemValue="#{null}" itemLabel="-SELECIONE-" />
							<f:selectItems value="#{usuarioBean.listPerfil}" var="perfil"
								itemLabel="#{perfil.descricao}" itemValue="#{perfil}" />
						</h:selectOneMenu>
						<h:outputLabel value="NOME: " />
						<h:inputText value="#{usuarioBean.usuario.pessoa.nome}"
							required="true"
							requiredMessage="Nome: campo é obrigatório" />
						<h:outputLabel value="EMAIL: " />
						<h:inputText value="#{usuarioBean.usuario.pessoa.email}" required="true"
							requiredMessage="Email: campo é obrigatório" />
						
						<h:outputLabel value="SENHA: " /> 
						<h:inputSecret value="#{usuarioBean.usuario.senha}" id="txtSenha"
							match="txtConfSenha" validatorMessage="senha e confirmação de senha são diferentes" size="10"
							required="true" requiredMessage="Senha: campo é obrigatório"
							label="Senha" />
						
						<h:outputLabel value="CONFIRMAR SENHA: " /> 
						<h:inputSecret id="txtConfSenha"
							size="10" required="true"
							requiredMessage="Confirmar Senha: campo é obrigatório" label="confSenha">
						</h:inputSecret>

					</h:panelGrid>
					<h:panelGrid columns="2">
						<h:commandButton styleClass="btn btn-primary"
							style="margin-left: 0px" value="Cadastra"
							action="#{usuarioBean.cadastraUsuario()}"
							rendered="#{usuarioBean.cadastra}" />
						<h:commandButton styleClass="btn btn-primary"
							style="margin-left: 0px" value="Edita"
							action="#{usuarioBean.editaUsuario()}"
							rendered="#{usuarioBean.edita}" />
						<h:commandButton styleClass="btn btn-primary"
							style="margin-left: 0px" value="Cancela"
							action="list_usuario.jsf?faces-redirect=true"
							immediate="true" />
					</h:panelGrid>
				</h:panelGrid>
	</h:form>
</ui:define> 
</ui:composition>
</html>
